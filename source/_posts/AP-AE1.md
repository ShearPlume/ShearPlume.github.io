---
title: AP AE1
date: 2023-02-01 10:40:43
tags:
- courses
- AP
---

### 描述：

你要使用复合设计模式建立一个简化的文件管理系统。在你的系统中，你可以存储文件和目录。目录可以包括其他目录和/或文件。所有的文件和目录都在一个顶级目录内。文件系统需要能够完成以下工作：

-  使用void add(Component)方法将一个文件/目录添加到一个给定的目录中。
- 从一个给定目录的直接子目录中删除一个文件/目录，使用方法void remove(Component)。
- 显示一个目录和它的所有内容：它的每个内容的名称和大小，无论是文件还是目录。
- 获取一个目录的大小，作为其内文件的总大小。
-  搜索一个包含有某个名称的文件的目录。如果发现一个以上的目录，只返回第一个目录。文件名要准确匹配，并且区分大小写。你只能搜索文件名，不能搜索目录名。

你需要使用以下接口：

```java
public interface Component {
    public String getName();
    public int getSize();
    public int getCount();
    public String display(String prefix);
    public Component search(String name);
}
```

### 例子：

```
root: (count=5, size=886)
	Settings (10)
	music: (count=1, size=120)
		ringtone (120)
	pictures: (count=3, size=756)
		personal: (count=2, size=335)
			family-holiday (201)
			portrait (134)
	misc: (count=1, size=421)
		wallpaper (421)
```

在上面的例子中，有5个目录（根目录、音乐、图片、个人和杂项）和各种文件。请仔细注意输出的格式：每个文件旁边的括号里有文件大小，目录中的文件数和总大小，目录内容用前缀缩进（例如"\t"）。请注意，目录不计入计数或大小；只有文件计入。

使用前面的例子，给出了以下的搜索参数和它们的结果。

```
- search("Settings") -> return: reference to the root directory
- search("portrait") -> return:  reference to the personal directory
- search("new-photo") -> return: null reference
- search("settings") -> return: null reference
```



### 任务：

- 勾画出你需要建立的组件（提示：两个具体的类）。
- 创建组件。记住要确保目录应该能够包括其他目录。
- 创建一个驱动类：即另一个有主方法的类来测试你的系统。这个类将不会被标记。
  我们为你自己的测试目的提供了一个例子，但是一个不同的具有未见过的输入的驱动程序将被用于标记。
- 请确保你的显示方法的输出符合上面的规范，并与给定的例子相似。否则，自动标记器可能无法识别你的输出是正确的。注意：标记器会识别空白处的变化，但会相应地扣除分数。
- 将你所有的类添加到一个名为file1234567的包中，其中1234567是你的学生编号。如果不这样做，将大大影响你的分数。
- 将您的Java源文件（即.java而不是编译的.class文件）以压缩的ZIP文件形式提交给Moodle。
  我们希望ZIP文件中至少有3个文件，其中一个是未经编辑的接口。请不要提交你的测试驱动类。

### 判卷依据：

你提交的材料将以100分的标准进行评分，细分如下。请注意，我们非常重视提交的工作成果，这一点从保留给该方面的大部分分数中可以看出。确保你提交的东西能正确地编译和运行是对你有利的。
- 25: 编译
  - 5：提交的文件没有编译，但由于一个简单的错误
  - 10：提交的文件可以单独编译成功
  - 10：提交的文件与未见过的测试驱动成功编译（即接口和公共方法与规范相符）
- 40：功能（使用未给出的测试用例）。
  - 10：添加文件/目录
  - 10：删除文件/目录
  - 10：正确显示文件系统
  - 10：搜索包含文件名的目录
- 15: 定义(使用给定的接口)
  - 10: 接口的实现
  - 5：封装
- 20: 设计模式
  - 20：设计适当的具体组件
